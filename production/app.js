function runGame(){var t=document.getElementById("game"),e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;var i=new Tilemap(t,e);i.render(),document.addEventListener("keypress",function(t){switch(t.which){case 114:i.render();break;case 103:i.renderGrid();break;case 116:i.renderTexture("sand")}})}function Tilemap(t,e){this.tsize=40,this.cols=Math.ceil(t.width/this.tsize),this.rows=Math.ceil(t.height/this.tsize),this.tiles=[];for(var i=0;i<this.cols*this.rows;i++)this.tiles.push(0);this.getTile=function(t,e){return this.tiles[e*this.cols+t]},this.render=function(){for(var t=(document.getElementById("sand"),0);t<this.cols;t++)for(var i=0;i<this.rows;i++){var s=this.getTile(t,i);0==s&&(e.fillStyle="green",e.fillRect(t*this.tsize,i*this.tsize,this.tsize,this.tsize))}},this.renderGrid=function(){for(var t=0;t<this.cols;t++)for(var i=0;i<this.rows;i++){var s=this.getTile(t,i);0==s&&(e.strokeStyle="white",e.strokeRect(t*this.tsize,i*this.tsize,this.tsize,this.tsize))}},this.renderTexture=function(t){for(var t=document.getElementById(t),i=0;i<this.cols;i++)for(var s=0;s<this.rows;s++){var r=this.getTile(i,s);0==r&&e.drawImage(t,i*this.tsize,s*this.tsize)}}}document.addEventListener("DOMContentLoaded",function(){runGame()});